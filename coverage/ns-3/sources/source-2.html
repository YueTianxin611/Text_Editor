


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > HashTable</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">util</a>
</div>

<h1>Coverage Summary for Class: HashTable (util)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">HashTable</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (12/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    84.5%
  </span>
  <span class="absValue">
    (71/84)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package util;
&nbsp;
&nbsp;import java.util.Collection;
&nbsp;import java.util.Map;
&nbsp;import java.util.Set;
&nbsp;
&nbsp;
&nbsp;public class HashTable&lt;K, V&gt; implements Map&lt;K, V&gt; {
&nbsp;    int size;
&nbsp;    LinkedList&lt;MapEntry&gt;[] hashmap;
<b class="fc">&nbsp;    double collision_time = 0;</b>
&nbsp;    int numElements;
&nbsp;    //int empty_buckets = numElements-size;
&nbsp;
<b class="fc">&nbsp;    double load_factor_thre = 0.75;</b>
&nbsp;
&nbsp;
&nbsp;    /**
&nbsp;     * Create a new hash table.
&nbsp;     *
&nbsp;     * @param numElements A guess at the number of elements
&nbsp;     *                    the hash table will eventually contain,
&nbsp;     *                    as a hint for improving performance.
&nbsp;     */
<b class="fc">&nbsp;    public HashTable(int numElements) {</b>
<b class="fc">&nbsp;        this.numElements = numElements;</b>
<b class="fc">&nbsp;        hashmap = new LinkedList[numElements];</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public int size() {
&nbsp;        // TODO Auto-generated method stub
<b class="fc">&nbsp;        return size;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean isEmpty() {
&nbsp;        // TODO Auto-generated method stub
<b class="fc">&nbsp;        return size==0;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean containsKey(Object key) {
&nbsp;        // TODO Auto-generated method stub
&nbsp;        // O(1)
<b class="fc">&nbsp;        if (get(key)!=null)</b>
<b class="fc">&nbsp;            return true;</b>
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public boolean containsValue(Object value) {
&nbsp;        // TODO Auto-generated method stub
<b class="fc">&nbsp;        for (int i=0; i&lt;hashmap.length;i++){</b>
<b class="fc">&nbsp;            if(hashmap[i]==null)</b>
<b class="nc">&nbsp;                continue;</b>
&nbsp;
<b class="fc">&nbsp;            for(MapEntry e: hashmap[i]){</b>
<b class="fc">&nbsp;                if(value.equals(e.getValue())){</b>
<b class="fc">&nbsp;                    return true;</b>
&nbsp;                }
<b class="fc">&nbsp;            }</b>
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public V get(Object key) {
&nbsp;        // TODO Auto-generated method stub
&nbsp;        // O(1)
<b class="fc">&nbsp;        int index = key.hashCode()%hashmap.length;</b>
&nbsp;
<b class="fc">&nbsp;        if(index&lt;0)</b>
<b class="nc">&nbsp;            index = -index;</b>
<b class="fc">&nbsp;        if(hashmap[index]==null)</b>
<b class="fc">&nbsp;            return null;</b>
&nbsp;
<b class="fc">&nbsp;        for(MapEntry e: hashmap[index]){</b>
<b class="fc">&nbsp;            if(key.equals(e.getKey())){</b>
<b class="fc">&nbsp;                return (V) e.getValue();</b>
&nbsp;            }
<b class="fc">&nbsp;        }</b>
<b class="fc">&nbsp;        return null;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public V put(K key, V value) {
&nbsp;        // TODO Auto-generated method stub
&nbsp;        // O(1)
<b class="fc">&nbsp;        if (size/hashmap.length&gt;load_factor_thre)</b>
<b class="fc">&nbsp;            resize();</b>
&nbsp;
<b class="fc">&nbsp;        int index = key.hashCode()%hashmap.length;</b>
<b class="fc">&nbsp;        if(index&lt;0)</b>
<b class="nc">&nbsp;            index = -index;</b>
<b class="fc">&nbsp;        if(hashmap[index]==null){</b>
<b class="fc">&nbsp;            hashmap[index] = new LinkedList&lt;&gt;();</b>
<b class="fc">&nbsp;            hashmap[index].add(new MapEntry&lt;&gt;(key, value));</b>
<b class="fc">&nbsp;            size++;</b>
<b class="fc">&nbsp;            return value;</b>
&nbsp;        }
&nbsp;        else{
<b class="fc">&nbsp;            collision_time++;</b>
<b class="fc">&nbsp;            for(MapEntry e:hashmap[index]){</b>
<b class="fc">&nbsp;                if(e.getKey().equals(key)) {</b>
<b class="nc">&nbsp;                    e.setValue(value);</b>
<b class="nc">&nbsp;                    return value;</b>
&nbsp;                }
<b class="fc">&nbsp;            }</b>
&nbsp;
<b class="fc">&nbsp;            hashmap[index].add(new MapEntry&lt;&gt;(key, value));</b>
<b class="fc">&nbsp;            size++;</b>
&nbsp;        }
<b class="fc">&nbsp;        return value;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public V remove(Object key) {
&nbsp;        // TODO Auto-generated method stub
&nbsp;        // O(1)
<b class="fc">&nbsp;        if(get(key)==null)</b>
<b class="nc">&nbsp;            return null;</b>
&nbsp;
<b class="fc">&nbsp;        int index = key.hashCode()%hashmap.length;</b>
<b class="fc">&nbsp;        for(MapEntry e: hashmap[index]){</b>
<b class="fc">&nbsp;            if(e.getKey().equals(key)){</b>
<b class="fc">&nbsp;                hashmap[index].remove(e);</b>
<b class="fc">&nbsp;                size--;</b>
<b class="fc">&nbsp;                return (V) e.getValue();</b>
&nbsp;            }
<b class="nc">&nbsp;        }</b>
&nbsp;
<b class="nc">&nbsp;        return null;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void putAll(Map&lt;? extends K, ? extends V&gt; m) {
&nbsp;        // TODO Auto-generated method stub
&nbsp;        //m.forEach((k, v) -&gt; put(k, v));
<b class="fc">&nbsp;        for(K key:m.keySet()){</b>
<b class="fc">&nbsp;            put(key, m.get(key));</b>
<b class="fc">&nbsp;        }</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void clear() {
&nbsp;        // TODO Auto-generated method stub
<b class="fc">&nbsp;        hashmap = new LinkedList[size];</b>
<b class="fc">&nbsp;        size = 0;</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public Set&lt;K&gt; keySet() {
&nbsp;        // TODO Auto-generated method stub
&nbsp;        // return an instance of an implementation of java.util.Set&lt;K&gt;
<b class="fc">&nbsp;        Set&lt;K&gt; keyset = new mySet&lt;&gt;();</b>
&nbsp;
<b class="fc">&nbsp;        for(int i=0; i&lt;hashmap.length;i++){</b>
<b class="fc">&nbsp;            if(hashmap[i]!=null) {</b>
<b class="fc">&nbsp;                for (MapEntry e : hashmap[i]) {</b>
<b class="fc">&nbsp;                    keyset.add((K) e.getKey());</b>
<b class="fc">&nbsp;                }</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        return keyset;</b>
&nbsp;    }
&nbsp;
&nbsp;    public void resize(){
<b class="fc">&nbsp;        LinkedList&lt;MapEntry&gt;[] oldhashmap = hashmap;</b>
&nbsp;
<b class="fc">&nbsp;        hashmap = new LinkedList[size*2];</b>
<b class="fc">&nbsp;        numElements = size*2;</b>
<b class="fc">&nbsp;        size = 0;</b>
<b class="fc">&nbsp;        collision_time = 0;</b>
&nbsp;
<b class="fc">&nbsp;        for(int i=0; i&lt;oldhashmap.length;i++){</b>
<b class="fc">&nbsp;            if(oldhashmap[i]==null)</b>
<b class="fc">&nbsp;                continue;</b>
&nbsp;
<b class="fc">&nbsp;            for(MapEntry e:oldhashmap[i]){</b>
<b class="fc">&nbsp;                put((K) e.getKey(), (V) e.getValue());</b>
<b class="fc">&nbsp;            }</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    public double getCollision_time(){
<b class="nc">&nbsp;        return collision_time;</b>
&nbsp;    }
&nbsp;
&nbsp;    public float getEmpty_buckets(){
<b class="nc">&nbsp;        return (float)(numElements-size)/numElements;</b>
&nbsp;    }
&nbsp;
&nbsp;    /*
&nbsp;     * You are not required to implement the values() or entrySet() operations.
&nbsp;     */
&nbsp;    @Override
&nbsp;    public Collection&lt;V&gt; values() {
<b class="nc">&nbsp;        throw new UnsupportedOperationException();</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()  {
<b class="nc">&nbsp;        throw new UnsupportedOperationException();</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-10-15 00:41</div>
</div>
</body>
</html>
