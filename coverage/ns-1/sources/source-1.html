


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > Editor</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">editor</a>
</div>

<h1>Coverage Summary for Class: Editor (editor)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Editor</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/9)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/59)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Editor$1</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/8)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Editor$2</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/4)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Editor$3</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Editor$4</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
  </tr>
  <tr>
    <td class="name">Editor$5</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/2)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/3)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/19)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    0%
  </span>
  <span class="absValue">
    (0/79)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package editor;
&nbsp;
&nbsp;import java.io.File;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.List;
&nbsp;import javafx.application.Application;
&nbsp;import javafx.event.ActionEvent;
&nbsp;import javafx.event.EventHandler;
&nbsp;import javafx.geometry.Pos;
&nbsp;import javafx.scene.Node;
&nbsp;import javafx.scene.Scene;
&nbsp;import javafx.scene.control.Button;
&nbsp;import javafx.scene.control.Separator;
&nbsp;import javafx.scene.control.TextField;
&nbsp;import javafx.scene.control.ToolBar;
&nbsp;import javafx.scene.effect.DropShadow;
&nbsp;import javafx.scene.image.Image;
&nbsp;import javafx.scene.image.ImageView;
&nbsp;import javafx.scene.input.KeyEvent;
&nbsp;import javafx.scene.layout.BorderPane;
&nbsp;import javafx.scene.layout.HBox;
&nbsp;import javafx.scene.layout.VBox;
&nbsp;import javafx.scene.text.Text;
&nbsp;import javafx.scene.web.HTMLEditor;
&nbsp;import javafx.stage.FileChooser;
&nbsp;import javafx.stage.Stage;
&nbsp;
<b class="nc">&nbsp;public class Editor extends Application {</b>
&nbsp;
&nbsp;    private EditorModel editorModel;
&nbsp;    private List&lt;Button&gt; controls;
&nbsp;    private Text autocompletion;
&nbsp;    private Text timer;
&nbsp;    private Button searchButton;
&nbsp;    private TextField searchBox;
&nbsp;
&nbsp;    public static void main(String[] args) {
<b class="nc">&nbsp;        launch(args);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public void start(Stage stage) {
<b class="nc">&nbsp;        stage.setTitle(&quot;2112 Editor&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        editorModel = new EditorModel();</b>
<b class="nc">&nbsp;        controls = new ArrayList&lt;&gt;();</b>
&nbsp;
<b class="nc">&nbsp;        final HTMLEditor htmlEditor = new HTMLEditor();</b>
<b class="nc">&nbsp;        setupDictionary(htmlEditor, stage);</b>
<b class="nc">&nbsp;        setupSpellCheck(htmlEditor);</b>
<b class="nc">&nbsp;        setupClearFormatting(htmlEditor);</b>
<b class="nc">&nbsp;        setupAutocomplete(htmlEditor);</b>
<b class="nc">&nbsp;        getToolBar(htmlEditor).getItems().add(new Separator());</b>
&nbsp;
<b class="nc">&nbsp;        setupSearch(htmlEditor);</b>
&nbsp;
<b class="nc">&nbsp;        autocompletion = new Text();</b>
<b class="nc">&nbsp;        timer = new Text();</b>
&nbsp;
<b class="nc">&nbsp;        VBox root = new VBox();</b>
<b class="nc">&nbsp;        BorderPane controlBar = new BorderPane();</b>
<b class="nc">&nbsp;        root.getChildren().add(htmlEditor);</b>
<b class="nc">&nbsp;        root.getChildren().add(controlBar);</b>
&nbsp;
<b class="nc">&nbsp;        controlBar.setLeft(autocompletion);</b>
<b class="nc">&nbsp;        HBox searchSection = new HBox();</b>
<b class="nc">&nbsp;        searchSection.getChildren().add(searchButton);</b>
<b class="nc">&nbsp;        searchSection.getChildren().add(searchBox);</b>
<b class="nc">&nbsp;        searchSection.setAlignment(Pos.CENTER);</b>
<b class="nc">&nbsp;        controlBar.setCenter(searchSection);</b>
<b class="nc">&nbsp;        controlBar.setRight(timer);</b>
&nbsp;
<b class="nc">&nbsp;        stage.setScene(new Scene(root));</b>
<b class="nc">&nbsp;        stage.show();</b>
&nbsp;    }
&nbsp;
&nbsp;    private void setupDictionary(final HTMLEditor htmlEditor, final Stage stage) {
<b class="nc">&nbsp;        ToolBar bar = getToolBar(htmlEditor);</b>
<b class="nc">&nbsp;        ImageView graphic = new ImageView(new Image(&quot;dict.png&quot;, 24, 24, true, true));</b>
<b class="nc">&nbsp;        graphic.setEffect(new DropShadow());</b>
<b class="nc">&nbsp;        Button loadDict = new Button(&quot;&quot;, graphic);</b>
<b class="nc">&nbsp;        bar.getItems().add(loadDict);</b>
<b class="nc">&nbsp;        controls.add(loadDict);</b>
<b class="nc">&nbsp;        loadDict.setOnAction(</b>
<b class="nc">&nbsp;                new EventHandler&lt;ActionEvent&gt;() {</b>
&nbsp;                    @Override
&nbsp;                    public void handle(ActionEvent arg0) {
<b class="nc">&nbsp;                        FileChooser fileChooser = new FileChooser();</b>
<b class="nc">&nbsp;                        fileChooser.setTitle(&quot;Open Dictionary File&quot;);</b>
<b class="nc">&nbsp;                        File dict = fileChooser.showOpenDialog(stage);</b>
<b class="nc">&nbsp;                        if (editorModel.loadDictionary(dict))</b>
<b class="nc">&nbsp;                            for (Button b : controls) {</b>
<b class="nc">&nbsp;                                b.setDisable(false);</b>
<b class="nc">&nbsp;                            }</b>
&nbsp;                    }
&nbsp;                });
&nbsp;    }
&nbsp;
&nbsp;    private void setupSpellCheck(final HTMLEditor htmlEditor) {
<b class="nc">&nbsp;        ToolBar bar = getToolBar(htmlEditor);</b>
<b class="nc">&nbsp;        ImageView graphic = new ImageView(new Image(&quot;check.png&quot;, 24, 24, true, true));</b>
<b class="nc">&nbsp;        graphic.setEffect(new DropShadow());</b>
<b class="nc">&nbsp;        Button spellCheck = new Button(&quot;&quot;, graphic);</b>
<b class="nc">&nbsp;        spellCheck.setDisable(true);</b>
<b class="nc">&nbsp;        bar.getItems().add(spellCheck);</b>
<b class="nc">&nbsp;        controls.add(spellCheck);</b>
<b class="nc">&nbsp;        spellCheck.setOnAction(</b>
<b class="nc">&nbsp;                new EventHandler&lt;ActionEvent&gt;() {</b>
&nbsp;                    @Override
&nbsp;                    public void handle(ActionEvent arg0) {
<b class="nc">&nbsp;                        htmlEditor.setHtmlText(editorModel.spellCheck(htmlEditor.getHtmlText()));</b>
<b class="nc">&nbsp;                        timer.setText(</b>
<b class="nc">&nbsp;                                &quot;Spell check time: &quot; + editorModel.getSpellCheckTime() + &quot; Î¼s.&quot;);</b>
&nbsp;                    }
&nbsp;                });
&nbsp;    }
&nbsp;
&nbsp;    private void setupClearFormatting(final HTMLEditor htmlEditor) {
<b class="nc">&nbsp;        ToolBar bar = getToolBar(htmlEditor);</b>
<b class="nc">&nbsp;        ImageView graphic = new ImageView(new Image(&quot;cancel.png&quot;, 24, 24, true, true));</b>
<b class="nc">&nbsp;        graphic.setEffect(new DropShadow());</b>
<b class="nc">&nbsp;        Button clear = new Button(&quot;&quot;, graphic);</b>
<b class="nc">&nbsp;        clear.setDisable(true);</b>
<b class="nc">&nbsp;        bar.getItems().add(clear);</b>
<b class="nc">&nbsp;        controls.add(clear);</b>
<b class="nc">&nbsp;        clear.setOnAction(</b>
<b class="nc">&nbsp;                new EventHandler&lt;ActionEvent&gt;() {</b>
&nbsp;                    @Override
&nbsp;                    public void handle(ActionEvent arg0) {
<b class="nc">&nbsp;                        htmlEditor.setHtmlText(</b>
<b class="nc">&nbsp;                                editorModel.clearFormatting(htmlEditor.getHtmlText()));</b>
&nbsp;                    }
&nbsp;                });
&nbsp;    }
&nbsp;
&nbsp;    private void setupAutocomplete(final HTMLEditor htmlEditor) {
<b class="nc">&nbsp;        htmlEditor.setOnKeyReleased(</b>
<b class="nc">&nbsp;                new EventHandler&lt;KeyEvent&gt;() {</b>
&nbsp;                    @Override
&nbsp;                    public void handle(KeyEvent e) {
<b class="nc">&nbsp;                        autocompletion.setText(editorModel.autocomplete(htmlEditor.getHtmlText()));</b>
&nbsp;                    }
&nbsp;                });
&nbsp;    }
&nbsp;
&nbsp;    private void setupSearch(final HTMLEditor htmlEditor) {
<b class="nc">&nbsp;        searchBox = new TextField();</b>
<b class="nc">&nbsp;        ImageView graphic = new ImageView(new Image(&quot;search.png&quot;, 24, 24, true, true));</b>
<b class="nc">&nbsp;        graphic.setEffect(new DropShadow());</b>
<b class="nc">&nbsp;        searchButton = new Button(&quot;&quot;, graphic);</b>
<b class="nc">&nbsp;        searchButton.setOnAction(</b>
<b class="nc">&nbsp;                new EventHandler&lt;ActionEvent&gt;() {</b>
&nbsp;                    @Override
&nbsp;                    public void handle(ActionEvent arg0) {
<b class="nc">&nbsp;                        htmlEditor.setHtmlText(</b>
<b class="nc">&nbsp;                                editorModel.search(searchBox.getText(), htmlEditor.getHtmlText()));</b>
&nbsp;                    }
&nbsp;                });
<b class="nc">&nbsp;        searchButton.setPrefHeight(searchBox.getHeight());</b>
&nbsp;    }
&nbsp;
&nbsp;    private ToolBar getToolBar(final HTMLEditor htmlEditor) {
<b class="nc">&nbsp;        Node node = htmlEditor.lookup(&quot;.top-toolbar&quot;);</b>
<b class="nc">&nbsp;        return node instanceof ToolBar ? (ToolBar) node : null;</b>
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-10-15 00:41</div>
</div>
</body>
</html>
